(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("click",(function(e){let t;if("plus"===e.target.dataset.action||"minus"===e.target.dataset.action){t=e.target.closest(".block-shoping-card__body").querySelector(".block-shoping-card__number")}"plus"===e.target.dataset.action&&(t.innerText=++t.innerText),"minus"===e.target.dataset.action&&parseInt(t.innerText)>1&&(t.innerText=--t.innerText),"delete"===e.target.dataset.delete&&(e.target.closest(".shoping-card__item").remove(),n(),o()),e.target.hasAttribute("data-action")&&e.target.closest(".shoping-card__body")&&o()}));const t=document.querySelector(".shoping-card__body");function n(){const e=document.querySelector(".shoping-card__body"),t=document.querySelector(".shoping-card__subtitle");e.children.length>0?t.classList.add("none"):t.classList.remove("none")}function o(){document.querySelector(".shoping-card__body");const e=document.querySelectorAll(".shoping-card__item"),t=document.querySelector(".shoping-card__total");let n=0;e.forEach((function(e){const t=e.querySelector(".block-shoping-card__number"),o=e.querySelector(".shoping-card__price"),c=parseInt(t.innerText)*parseInt(o.innerText);n+=c})),t.innerText=n}window.addEventListener("click",(function(e){if(e.target.hasAttribute("data-cart")){const c=e.target.closest(".shop__item"),i={id:c.dataset.id,imgSrc:c.querySelector(".shop__image").getAttribute("src"),title:c.querySelector(".shop__text").innerText,price:c.querySelector(".shop__price").innerText},r=t.querySelector(`[data-id="${i.id}"]`);if(r){const e=r.querySelector(".block-shoping-card__number");e.innerText=parseInt(e.innerText)+1}else{const e=`<article data-id="${i.id}" class="shoping-card__item">\n      <div class="shoping-card__picture"><img src="${i.imgSrc}" alt="${i.title}"\n            class="shoping-card__image"></div>\n      <div class="shoping-card__body">\n         <p class="shoping-card__text">${i.title}</p>\n         <div class="shoping-card__block block-shoping-card">\n            <P class="shoping-card__price">${i.price}</P>\n            <div class="block-shoping-card__body">\n               <button class="block-shoping-card__control" data-action="minus">-</button>\n               <div class="block-shoping-card__number">1</div>\n               <button class="block-shoping-card__control" data-action="plus">+</button>\n            </div>\n         </div>\n         <button data-delete="delete" class="shoping-card__button">Удалить</button>\n      </div>\n   </article>`;t.insertAdjacentHTML("beforeend",e)}n(),o()}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();